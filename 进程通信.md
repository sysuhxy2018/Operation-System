# 进程通信

这里进程通信就是指进程间的通信（数据传输）。

一般有6种方式，这里只是做一个简单的罗列和介绍。

* 管道（匿名管道）
  * 类似于一个中枢结构，或者缓冲区。实际实现是通过调用一个pipe函数完成。
  * 特点：
    * 只支持半双工通信。即可以双向传输，但一次只能从进程A到进程B，或者从进程B到进程A。不能同时双向传输。全双工通信一般用两个匿名管道实现。
    * 只能用于父子进程或者兄弟进程。由于本身是一个函数/方法，所以子进程很容易继承父进程的管道。
  * 应用：比如我们想要从parent进程传输数据给child进程。
    * parent进程先往pipe里写入数据，然后child进程从pipe里读取数据。
* FIFO（命名管道）
  * 高级版的管道，具有先进先出（FIFO）的机制，这一点类似于队列。
  * 特点：
    * 可支持半双工，全双工。
    * 不局限于父子进程（任意两个进程都行）。
  * 应用：常用于客户端/服务器架构中，作为汇聚点，用于客户端和服务器间的通信。
* 消息队列
  * 属于一种异步的通信方式，本质上是消息的链表。
  * 特点：
    * 独立于读写进程存在
    * 避免同步阻塞问题（异步），无需进程提供同步方法
    * 接收者可以选择性从队列中获取消息，而FIFO只能被动接收。
* 信号量
  * 进程同步时已经提到过，本质是一个计数器。
  * 可以控制进程对临界资源的访问。
* 共享存储
  * 多个进程共享一个存储区（临界资源），所以还需要信号量（锁）来同步访问。
  * 这是最快的IPC方式，因为进程间无需复制数据。
* 套接字
  * 前面网络部分提及过，可用于不同机器间的进程通信。
  * 应用：需要用到TCP套接字来进行HTTP通信，所以套接字是属于传输层进程间的通信手段。

